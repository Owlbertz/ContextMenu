<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Context Menu by Owlbertz</title>
    <meta name="viewport" content="width=device-width">
    <meta class="foundation-mq">
    <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link rel="stylesheet" href="assets/foundation-sites/dist/foundation.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="assets/foundation.contextMenu.css">
    <link rel="stylesheet" href="assets/design/page.css">
  </head>
  <body>
    <div class="wrapper">
      <header>
        <div class="row">
          <div class="columns small-3">
           <img src="assets/context-menu.svg" alt="Context Menu Plugin Icon"/>
          </div>
          <div class="columns small-9">
            <h1>Context Menu</h1>
            <p>
              Context Menu plugin for Foundation 6.
            </p>
          </div>
        </div>
      </header>
      <main id="main" class="sections">
        <div class="row">
          <div class="columns small-12 medium-9" data-magellan-target="introduction" id="introduction">
            <div class="row">
              <div class="columns small-12">
                <h2>What it does</h2>
                <p>
                  The following examples show the Context Menu plugin in action. Just make a right-click as you are used to in your faviourite OS. The first list item has a context menu defined as a JSON object and passed to the plugin within the JavaScrip. The second one has a menu defined in the HTML accordion to the menu structure for the Foundation DropdownMenu.
                </p>
                <p>
                  For the basic setup, just take any HTML element you want and add an <code>data-context-menu</code> attribute to it. The value depends on the way you want to use this plugin. The possibilities can be found below.
                </p>
                <p>
                  For further information please visit <a href="https://github.com/Owlbertz/ContextMenu">the Project on GitHub</a>.
                </p>
                <p>
                  Currently this plugin is still in development, and thus in a version 0.0.x, which works well with Foundation for sites 6.2.3. It is planned to release the first stable version of this plugin once Foundation for sites version 6.3 is released.
                </p>
              </div>
            </div>
            
            <div class="row">
              <div class="columns small-12" id="html-example" data-magellan-target="html-example">
                <hr />
                <h2>HTML Example</h2>
                <p>
                  This example uses a predefined HTML list, formed according to <a href="http://foundation.zurb.com/sites/docs/dropdown-menu.html" target="_blank">the Foundation Dropdown  Menu syntax</a> to hold the context menu. You only need to give your context menu list an ID and then reference it in the list's <code>data-context-menu</code> attribute. Notice the leading <code>#</code> to indicate that it points to an HTML element.
                </p>
                <div class="row">
                  <div class="columns small-12 large-4">
                    <ul class="context menu dropdown vertical" role="menu" id="menu">
                      <li role="menuitem"><a data-option="copy" href>Copy</a></li>
                      <li role="menuitem"><a data-option="moving" href>Move</a></li>
                      <li role="menuitem"><a data-option="delete" href>Delete</a></li>
                    </ul>
                    <ul class="list" id="html-example-list">
                      <li data-context-menu="#menu" data-element="1">
                        <span class="fa fa-file-pdf-o"></span> Some document
                        <button data-context-menu-trigger class="button tiny show-on-focus float-right">Open menu</button>
                      </li>
                      <li data-context-menu="#menu" data-element="2">
                        <span class="fa fa-file-word-o"></span> Another document
                        <button data-context-menu-trigger class="button tiny show-on-focus float-right">Open menu</button>
                      </li>
                      <li data-context-menu="#menu" data-element="3">
                        <span class="fa fa-file-powerpoint-o"></span> Important presentation
                        <button data-context-menu-trigger class="button tiny show-on-focus float-right">Open menu</button>
                      </li>
                    </ul>
                  </div>
                  <div class="columns small-12 large-8">
<pre><code class="html hljs"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"context menu dropdown vertical"</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"menu"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"menu"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"menuitem"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"javascript:alert('Copying...');"</span>&gt;</span>Copy<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"menuitem"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"javascript:alert('Moving...');"</span>&gt;</span>Move<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"menuitem"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"javascript:alert('Deleting...');"</span>&gt;</span>Delete<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></code></pre>
                  </div>
                </div>
              </div>

              <div class="columns small-12" id="json-example" data-magellan-target="json-example">
                <hr />
                <h2>JSON Example</h2>
                <p>
                  You can also define the context menu using JSON. Just register the menu type in the plugin and then reference the registered name in the list's <code>data-context-menu</code> attribute.
                </p>
                <div class="row">
                  <div class="columns small-12 large-4">
                    <ul class="list" id="json-example-list">
                      <li data-context-menu="listitem">
                        <span class="fa fa-file-pdf-o"></span> Some document
                        <button data-context-menu-trigger class="button tiny show-on-focus float-right">Open menu</button>
                      </li>
                      <li data-context-menu="listitem">
                        <span class="fa fa-file-pdf-o"></span> Another document
                        <button data-context-menu-trigger class="button tiny show-on-focus float-right">Open menu</button>
                      </li>
                      <li data-context-menu="listitem">
                        <span class="fa fa-file-powerpoint-o"></span> Important presentation
                        <button data-context-menu-trigger class="button tiny show-on-focus float-right">Open menu</button>
                      </li>
                    </ul>
                  </div>
                  <div class="columns small-12 large-8">
<pre><code class="js hljs">Foundation.ContextMenu.prototype.addConfig(<span class="hljs-string">'listitem'</span>, {
  accessible: <span class="hljs-literal">true</span>,
  single: <span class="hljs-literal">true</span>,
  structure: [{
    text: <span class="hljs-string">'Move to'</span>,
    help: <span class="hljs-string">'Alt + M'</span>,
    key: <span class="hljs-string">'ALT_M'</span>,  
    click: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$item</span>) </span>{
      alert(<span class="hljs-string">'Moving item: '</span> + $item.index());
    }
  }, {
    icon: <span class="hljs-string">'fa fa-paper-plane'</span>,
    text: <span class="hljs-string">'Send via mail'</span>,  
    click: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$item</span>) </span>{
      alert(<span class="hljs-string">'Sending a mail!'</span>);
    }
  }, {
    cssclass: <span class="hljs-string">'divider'</span>
  }, {
    text: <span class="hljs-string">'More...'</span>,
    children: [{
      text: <span class="hljs-string">'Delete'</span>,
      isDisabled: <span class="hljs-boolean">true</span>,
    }, {
      text: <span class="hljs-string">'Download...'</span>,
      children: [{
        text: <span class="hljs-string">'Save as PDF'</span>
      }, {
        text: <span class="hljs-string">'Save as PNG'</span>
      }]
    }]
  }]
});</code></pre>
                  </div>
                </div>
              </div>
              <div class="columns small-12" id="javascript-example" data-magellan-target="javascript-example">
                <hr />
                <h2>Creating Context Menus with JS</h2>
                <p>
                  It is also possible to open context menus on the fly without attaching them to an actual HTML element. This approach is based on the JSON method shown above. Creating the plugin instance on demand might me helpful when dealing with dynamic applications that keep on re-rendering parts of the page.
                </p>
                <div class="row">
                  <div class="columns small-12 large-4">
                    <ul class="list" id="javascript-example-list">
                      <li>
                        <span class="fa fa-file-pdf-o"></span> Some document
                      </li>
                      <li>
                        <span class="fa fa-file-pdf-o"></span> Another document
                      </li>
                      <li>
                        <span class="fa fa-file-powerpoint-o"></span> Important presentation
                      </li>
                    </ul>
                  </div>
                  <div class="columns small-12 large-8">
<pre><code class="hljs js">$(<span class="hljs-string">'#javascript-example-list li'</span>).on(<span class="hljs-string">'contextmenu'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
  event.preventDefault();

  <span class="hljs-keyword">var</span> jsContextMenu = <span class="hljs-keyword">new</span> Foundation.ContextMenu($(<span class="hljs-keyword">this</span>), {
    <span class="hljs-attr">position</span>: event,
    <span class="hljs-attr">structure</span>: [{
      <span class="hljs-attr">text</span>: <span class="hljs-string">'Move to'</span>,
      <span class="hljs-attr">click</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$item</span>) </span>{
        alert(<span class="hljs-string">'Moving item: '</span> + $item.index());
      }
    }, {
      <span class="hljs-attr">icon</span>: <span class="hljs-string">'fa fa-paper-plane'</span>,
      <span class="hljs-attr">text</span>: <span class="hljs-string">'Send via mail'</span>,  
      <span class="hljs-attr">click</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$item</span>) </span>{
        alert(<span class="hljs-string">'Sending a mail!'</span>);
      }
    }]
  });
  <span class="hljs-comment">// Destroy context menu once it's closed</span>
  $(<span class="hljs-keyword">this</span>).one(<span class="hljs-string">'hide.zf.contextmenu'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    jsContextMenu.destroy();
  });
});</code></pre>
                  </div>
                </div>
              </div>
              <div class="columns small-12" data-magellan-target="interacting" id="interacting">
                <hr />
                <h2>Interacting</h2>
                <p>
                  To actually do something with the user's interaction, you can use the custom <code>contextselect.zf.contextmenu</code>-event. This will be triggered for the menu's anchor element (i.e. the element containing the <code>data-context-menu</code>-attribute) once an option out of the context menu is chosen. The event carries an object of data that helps you handling the selection:
                </p>
                <ul>
                  <li><code>element</code>: The menu's anchor element (<code>li</code>-element).</li>
                  <li><code>option</code>: The selected context menu entry (<code>a</code>-element).</li>
                </ul>
              </div>

              <div class="columns small-12" id="options" data-magellan-target="options">
                <hr />
                <h2>Options</h2>
                <p>
                  The following options can be used.
                </p>
                <ul>
                  <li>
                    <strong>single</strong>
                    <p>If only one menu should be open at a time.</p>
                    <em>Default is <code>true</code>.</em>
                  </li>
                  <li>
                    <strong>accessible</strong>
                    <p>If ARIA attributes should be added.</p>
                    <em>Default is <code>true</code>.</em>
                  </li>
                  <li>
                    <strong>touchdelay</strong>
                    <p>Delay for touch event before the menu opens.</p>
                    <em>Default is <code>400</code>.</em>
                  </li>
                  <li>
                    <strong>screenOffset</strong>
                    <p>Minimum offset to the screen.</p>
                    <em>Default is <code>10</code>.</em>
                  </li>
                  <li>
                    <strong>closeOnClick</strong>
                    <p>If the menu should be closed after clicking an option.</p>
                    <em>Default is <code>true</code>.</em>
                  </li>
                  <li>
                    <strong>emptyEntryWillCloseMenu</strong>
                    <p>If the menu should be closed if an option without a click function was clicked.</p>
                    <em>Default is <code>true</code>.</em>
                  </li>
                  <li>
                    <strong>position</strong>
                    <p>Event to display the context menu directly when using pure JS.</p>
                    <em>Default is <code>null</code>.</em>
                  </li>
                </ul>
              </div>
            </div>
          </div>

          <div class="columns small-12 medium-3" data-sticky-container>
            <nav class="columns sticky" data-sticky data-anchor="main" data-sticky-on="medium">
              <ul class="vertical menu side-nav" data-magellan>
                <li><a href="#introduction">Introduction</a></li>
                <li><a href="#html-example">HTML Example</a></li>
                <li><a href="#json-example">JSON Example</a></li>
                <li><a href="#javascript-example">JavaScript Example</a></li>
                <li><a href="#interacting">Interacting</a></li>
                <li><a href="#options">Options</a></li>
              </ul>
            </nav>  
          </div>
        </div>
      </main>
      <footer>
        <div class="row">
          <div class="columns small-12">
            <p>This project is maintained by <a href="https://github.com/Owlbertz">Marius Korte</a>.
            <br />This demo makes use of <a href="http://fortawesome.github.io/Font-Awesome/" target="_blank">Font Awesome</a>.</p>
          </div>
        </div>
      </footer>
    </div>
    <script src="assets/jquery/dist/jquery.js" type="text/javascript"></script>
    <script src="assets/foundation-sites/dist/foundation.js" type="text/javascript"></script>
    <script src="assets/foundation.contextMenu.js" type="text/javascript"></script>
    <script src="assets/design/index.js" type="text/javascript"></script>
  </body>
</html>
